--- wpa_supplicant-1.0.old/wpa_supplicant/wpa_gui-qt4/wpagui.cpp	2012-05-10 01:56:09.000000000 +0400
+++ wpa_supplicant-1.0/wpa_supplicant/wpa_gui-qt4/wpagui.cpp	2012-09-05 10:05:42.462641654 +0400
@@ -12,16 +12,13 @@
  * See README and COPYING for more details.
  */
 
-#ifdef __MINGW32__
-/* Need to get getopt() */
-#include <unistd.h>
-#endif
-
 #ifdef CONFIG_NATIVE_WINDOWS
 #include <windows.h>
 #endif /* CONFIG_NATIVE_WINDOWS */
 
 #include <cstdio>
+#include <unistd.h>
+#include <stdlib.h>
 #include <QMessageBox>
 #include <QCloseEvent>
 #include <QImageReader>

--- wpa_supplicant-1.0/wpa_supplicant/wpa_gui/wpagui.ui.h.old	2012-05-10 01:56:09.000000000 +0400
+++ wpa_supplicant-1.0/wpa_supplicant/wpa_gui/wpagui.ui.h	2012-09-05 13:46:53.545300062 +0400
@@ -11,11 +11,7 @@
 *****************************************************************************/
 
 
-#ifdef __MINGW32__
-/* Need to get getopt() */
 #include <unistd.h>
-#endif
-
 #include <stdlib.h>
 
 void WpaGui::init()
